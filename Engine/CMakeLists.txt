FIND_PACKAGE(Qt5Widgets REQUIRED)
FIND_PACKAGE(Qt5Quick REQUIRED)

SET(SOURCES
    Engine.cpp
    main.cpp
)

SET(HEADERS 
    ${CMAKE_SOURCE_DIR}/include/OpenSR/Engine.h
)

INCLUDE_DIRECTORIES(
    ${OPENGL_INCLUDE_DIR}
    ${CMAKE_SOURCE_DIR}/include
    ${CMAKE_BINARY_DIR}/include
    ${Qt5Gui_INCLUDE_DIRS}
    ${Qt5Widgets_INCLUDE_DIRS}
    ${Qt5Core_INCLUDE_DIRS}
    ${Qt5Quick_INCLUDE_DIRS}
)

QT5_WRAP_CPP(MOC_OBJECTS ${HEADERS})
QT5_ADD_RESOURCES(QRC_QML_SOURCES ${CMAKE_SOURCE_DIR}/QML/qml.qrc)

ADD_EXECUTABLE(opensr ${SOURCES} ${QRC_QML_SOURCES} ${MOC_OBJECTS})
TARGET_LINK_LIBRARIES(opensr RangerQt Qt5::Core Qt5::Gui Qt5::Widgets Qt5::Quick)

INSTALL(TARGETS opensr RUNTIME DESTINATION bin)
